# CRUDP
<!-- START_SECTION:BADGES_SECTION -->
<a href="docs/img/badges.svg"><img src="docs/img/badges.svg" alt="Project Badges" title="Generated by devflow from github.com/tinywasm/devflow"></a>
<!-- END_SECTION:BADGES_SECTION -->

A JSON/binary CRUD protocol for isomorphic Go applications. Limits its responsibility to handler registration and execution, delegating transport to separate packages.

## Features

- **Isomorphic:** Same handler code on frontend (WASM) and backend (Server)
- **Protocol Agnostic:** Decoupled from HTTP, SSE or any transport layer.
- **Batch Processing:** Logic to execute multiple operations from a single request.
- **TinyGo Compatible:** Optimized for small WASM binaries.
- **Explicit Error Handling:** CRUD methods return explicit errors for better flow control.

## Quick Start

### 1. Define a Handler

```go
type UserHandler struct{}

func (h *UserHandler) Create(ctx context.Context, data ...any) (any, error) {
    // Process data and return result or error
    return &User{ID: 1, Name: "John"}, nil
}
```

### 2. Register and Execute

```go
cp := crudp.New(binary.Encode, binary.Decode)
cp.RegisterHandler(&UserHandler{})

// On server:
// req, _ := decodeRequest(body)
// resp, _ := cp.Execute(ctx, req)
```

## Documentation

- [`docs/HANDLER_REGISTER.md`](docs/HANDLER_REGISTER.md): Handler interfaces and registration
- [`docs/PACKET_STRUCTURE.md`](docs/PACKET_STRUCTURE.md): Protocol packet structures

---
## [Contributing](https://github.com/tinywasm/tinywasm/blob/main/CONTRIBUTING.md)